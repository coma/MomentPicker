/*! MomentPicker v1.3.0 | https://github.com/coma/MomentPicker | MIT license */
!function(a){var b="MomentPicker",c=moment().startOf("day"),d={date:c,level:0,style:{selected:"selected",current:"current"}};a.fn[b]=function(e){var f=a(this).data(b);return f?f:this.each(function(){var f,g=a.extend(!0,{},d,e),h=g.date,i=h.clone(),j=a(this),k=g.level;j.html(['<div class="header">','<a class="prev"></a>','<a class="current"></a>','<a class="next"></a>',"</div>",'<div class="body"></div>'].join(""));var l=j.children("div.header"),m=j.children("div.body"),n=l.children("a.next"),o=l.children("a.prev"),p=l.children("a.current"),q=function(){return!1},r=q,s=q,t=q,u=q,v=q,w=q,x=q,y=q,z=function(a){a instanceof Function?x=a:!function(){var b=moment(a);moment.isMoment(b)&&(b.startOf("day"),x=function(){return b.clone()})}(),v=function(a){return a<x().year()},t=function(a){return a.clone().startOf("month")<x().startOf("month")},r=function(a){return a<x()};var b=x();b>i&&F(b)},A=function(){g.max instanceof Function?y=g.max:!function(){var a=moment(g.max);moment.isMoment(a)&&(a.startOf("day"),y=function(){return a.clone()})}(),w=function(a){return a>y().year()},u=function(a){return a.clone().endOf("month")>y().endOf("month")},s=function(a){return a>y()};var a=y();i>a&&F(a)},B=function(b){var c=a.Event(b);c.api=f,j.trigger(c)},C=function(a){return!v(a)&&!w(a)},D=function(a){return!r(a)&&!s(a)},E=function(a){return!t(a)&&!u(a)},F=function(){if(arguments.length>0){var a=moment(arguments[0]);return moment.isMoment(a)&&(a.startOf("day"),D(a)&&(i=a,B("pick"),h=i.clone(),L())),f}return i.clone()},G=function(){var a=h.year(),b=a+12,d="";for(p.text(a+" - "+(b-1));b>a;){var e=[];a===c.year()&&e.push(g.style.current),a===i.year()&&e.push(g.style.selected);var f=C(a)?"a":"span";d+="<"+f+' data-year="'+a+'" class="'+e.join(" ")+'">'+a+"</"+f+">",a++}m.html(d),B("renderYears")},H=function(){var a=h.clone().startOf("y"),b=a.clone().add("M",12),d="";for(p.text(a.year());b>a;){var e=[];a.format("M-YYYY")===c.format("M-YYYY")&&e.push(g.style.current),a.format("M-YYYY")===i.format("M-YYYY")&&e.push(g.style.selected);var f=E(a)?"a":"span";d+="<"+f+' data-month="'+a.format("M-YYYY")+'" class="'+e.join(" ")+'">'+a.format("MMM")+"</"+f+">",a.add("M",1)}m.html(d),B("renderMonths")},I=function(){var a=h.clone().startOf("w"),b=a.clone().add("w",1),d='<div class="week">';for(p.text(h.format("MMMM YYYY"));b>a;)d+="<span>"+a.format("ddd")+"</span>",a.add("d",1);d+="</div>",a=h.clone().startOf("M").startOf("w"),b=a.clone().add("d",42),d+='<div class="month">';for(var e=!1;b>a;){var f=[];a.format("D-M-YYYY")===c.format("D-M-YYYY")&&f.push(g.style.current),a.format("D-M-YYYY")===i.format("D-M-YYYY")&&f.push(g.style.selected);var j=D(a)?"a":"span";a.month()!==h.month()?f.push(e?"next":"prev"):e=!0,d+="<"+j+' data-day="'+a.format("D-M-YYYY")+'" class="'+f.join(" ")+'">'+a.date()+"</"+j+">",a.add("d",1)}d+="</div>",m.html(d),B("renderDays")},J=[{years:12},{years:1},{months:1}],K=[G,H,I],L=function(){arguments.length>0&&(k=Math.max(arguments[0],g.level)),j.removeClass("top"),k===g.level&&j.addClass("top"),K[k](),B("render")},M=function(){h.add(J[k]),L(),B("showNext")},N=function(){h.subtract(J[k]),L(),B("showPrev")};n.click(M),o.click(N),p.click(function(){L(Math.max(0,--k))}),m.on("click","a[data-year]",function(){h.year(a(this).data("year")),L(1)}),m.on("click","a[data-month]",function(){var b=moment(a(this).data("month"),"M-YYYY");h.month(b.month()).year(b.year()),L(2)}),m.on("click","a[data-day]",function(){F(moment(a(this).data("day"),"D-M-YYYY"))});var O=function(){return arguments.length>0?(z(arguments[0]),f):x()},P=function(){return arguments.length>0?(A(arguments[0]),f):y()};f={val:F,next:M,prev:N,min:O,max:P,renderYears:function(){L(0)},renderMonths:function(){L(1)},renderDays:function(){L(2)}},g.hasOwnProperty("min")&&z(g.min),g.hasOwnProperty("max")&&A(g.max),j.data(b,f),B("ready"),L()})}}(jQuery);